---
categories:
  - programming
date: 2022-03-12
draft: true
tags:
  - forex
title: Forex Trading for Fun and Profit
---

In college, I wrote foreign exchange (forex) trading programs. This was
sophomore year. My only programming experience was our introduction to
programming class. I used a [Martingale
strategy](https://en.wikipedia.org/wiki/Martingale_(betting_system)).

I've published as much of my old code as reasonable to
[GitHub](https://github.com/dguo/forex-trading).

## Forex Trading

When most people think of financial trading, they probably think of buying and
selling stocks or maybe bonds. But the financial world is innovative and looks
for opportunities to make money by creating markets so that you can effectively
bet on almost anything, like the price of wheat three years from now. Or even
stranger things like [how volatile the stock market will
be](https://www.investopedia.com/stock-analysis/2012/4-ways-to-trade-the-vix-vxx-vxz-tvix-xxv0504.aspx).

What's the largest market in the world by trading volume? It's not stocks or
crypto. It's actually the [foreign exchange
market](https://en.wikipedia.org/wiki/Foreign_exchange_market).

Consider the experience of going abroad (perhaps back in non-COVID times) to a
country that uses a different currency. You might go to a bank to change your
U.S. dollars into euros. You make the exchange at a certain rate (and maybe the
bank takes a fee in the process). You go to Europe for a few weeks. When you
get back, you change your remaining euros back into dollars. Depending on how
the exchange rate has fluctuated in the meantime, you could have more or less
money than you started with.

This is a small-scale example of [foreign exchange
risk](https://en.wikipedia.org/wiki/Foreign_exchange_risk).

## Picking a Broker

I used [Oanda](https://www.oanda.com) to trade. They let me leverage up to 50:1.

## Automation

I automated my trading with [MetaTrader
4](https://en.wikipedia.org/wiki/MetaTrader_4).

I bought a book named [Expert Advisor Programming: Creating Automated Trading
Systems in MQL for MetaTrader
4](https://www.amazon.com/Expert-Advisor-Programming-Automated-MetaTrader/dp/0982645902?crid=3QDACH7CXL46R&keywords=Expert+Advisor+Programming%3A+Creating+Automated+Trading+Systems+in+MQL+for+MetaTrader+4&qid=1644888838&sprefix=expert+advisor+programming+creating+automated+trading+systems+in+mql+for+metatrader+4%2Caps%2C97&sr=8-1&linkCode=ll1&tag=thdalo00-20&linkId=2c0c6edb764af5bde0421e042ee819e1&language=en_US&ref_=as_li_ss_tl)
and learned how to write "expert advisors" (EAs).

I didn't know how to persist data, so I used CSV files as a storage mechanism.

## Results

I remember watching the USD/JPY price change dramatically. It later turned out
to be because of the [T≈çhoku earthquake and
tsunami](https://en.wikipedia.org/wiki/2011_T%C5%8Dhoku_earthquake_and_tsunami).

I saw huge swings. To some extent, I became desensitized to it.

I don't have great records for my performance, but it looks like I deposited
$31,050. And I ended up withdrawing $38,701.99.

I was lucky that I ended up making a profit. I certainly could have lost it all
on any given day.
